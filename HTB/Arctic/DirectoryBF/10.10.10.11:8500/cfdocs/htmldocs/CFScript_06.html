<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="content.css" />
<title>Using for loops</title>
<meta name="area" content="livedocs" />
<meta name="lang" content="en-us" />
<meta name="product" content="ColdFusion" /> 
<meta name="productv" content="8.0" />
<script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>
<script type="text/javascript">
<!--[CDATA[
handleContext(1);
if (use_ie_6_behavior) {
  document.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"content-ie6.css\" />");
}
// ]]-->
</script>
<script src="scripts.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>
</head>
<body id="content_body">
<!--googleoff: index-->
<!-- BEGIN PAGE CONTENT WRAPPER -->
<div id="pneumonic">
  <h1 class="ColdFusion">Adobe ColdFusion 8</h1>
</div>
<div id="page_content_wrapper">
  <!-- BEGIN BREADCRUMBS -->
  <div id="breadcrumb">
    <!-- BEGIN BREADCRUMBS -->
    <div class="nav">
      <dl class="page">
				<dd class="prev"><a accesskey="p" class="prev" href="CFScript_05.html" title="Using looping statements"><img src="images/prev.gif" alt="Previous" /></a></dd><dd class="next"><a accesskey="n" class="next" href="CFScript_07.html" title="Using while loops"><img src="images/next.gif" alt="Next" /></a></dd>

      </dl>
    </div>
    <div class="hierarchy"> <a href="Part_4_CF_DevGuide_1.html">ColdFusion Developer's Guide</a> / <a href="CFScript_01.html">Extending ColdFusion Pages with CFML Scripting</a> 
/ <a href="CFScript_04.html">Using CFScript statements</a> / <a href="CFScript_05.html"><b>Using looping statements</b></a> </div>
    <!-- END BREADCRUMBS -->
  </div>
  <!-- END BREADCRUMBS -->
  <!-- BEGIN PAGE TITLE -->
  <!--googleon: index-->
  <h1> Using for loops </h1>
  <!--googleoff: index-->
  <!-- END PAGE TITLE -->
  <!-- BEGIN CONTENT WRAPPER -->
  <div id="content_wrapper">
    <!--googleon: index-->
      <div>
       
<p>The for loop has the following format: </p><pre>
<i><code>for (initial-expression; test-expression; final-expression) statement</code></i>

</pre><p>The i<i>nitial-expression</i> and <i>final-expression</i> can be one of the following:</p><ul>
  <li>A single assignment expression; for example, x=5 or loop=loop+1
</li>
  <li>Any ColdFusion expression; for example, SetVariable(&quot;a&quot;,a+1)
</li>
  <li>Empty
</li>
</ul>
<p>The <i>test-expression</i> can be one of the following:</p><ul>
  <li>Any ColdFusion expression; for example: 
<pre>
A LT 5
index LE x
status EQ &quot;not found&quot; AND index LT end
</pre><br/>
  </li>
  <li>Empty
</li>
</ul>
<p><div class="note"><span class="notetitle">Note: </span>The test expression is re-evaluated before each repeat of the loop. If code inside the loop changes any part of the test expression, it can affect the number of iterations in the loop.</div></p>
<p>The <i>statement</i> can be a single semicolon terminated statement or a statement block in curly braces.</p><p>When ColdFusion executes a for loop, it does the following:</p><ol>
  <li class="stepexpand"><span>Evaluates the <i>initial expression.</i></span></li>
  <li class="stepexpand"><span>Evaluates the <i>test-expression.</i></li>
  <li class="stepexpand"><span>If the <i>test-expression</i> is False, exits the loop and processing continues following the <i>statement.</i><p>If the <i>test-expression</i> is True:</p>

<ol>
  <li class="stepexpand"><span>Executes the <i>statement </i>(or statement block).</span>
</li>
  <li class="stepexpand"><span>Evaluates the <i>final-expression.</i>
</li>
  <li class="stepexpand"><span>Returns to Step 2.
</span></li>
</ol>
  </span></li>
</ol>
<p>For loops are most commonly used for processing in which an index variable is incremented each time through the loop, but it is not limited to this use.</p><p>The following simple for loop sets each element in a 10-element array with its index number. </p><pre>
for(index=1;
    index LTE 10;
    index = index + 1)
    a[index]=index;

</pre><p>The following, more complex, example demonstrates two features:</p><ul>
  <li>The use of curly braces to group multiple statements into a single block.
</li>
  <li>An empty condition statement. All loop control logic is in the statement block.
</li>
</ul>
<pre>
&lt;cfscript&gt;
strings=ArrayNew(1);
ArraySet(strings, 1, 10, &quot;lock&quot;);
strings[5]=&quot;key&quot;;
indx=0;
for( ; ; )&#160;{
    indx=indx+1;
    if(Find(&quot;key&quot;,strings[indx],1)) {
        WriteOutput(&quot;Found key at &quot; &amp; indx &amp; &quot;.&lt;br&gt;&quot;);
        break;
        }
    else if (indx IS ArrayLen(strings))&#160;{
        WriteOutput(&quot;Exited at &quot; &amp; indx &amp; &quot;.&lt;br&gt;&quot;);
        break;
        }
}
&lt;/cfscript&gt;

</pre><p>This example shows one important issue that you must remember when creating loops: you must always ensure that the loop ends. If this example lacked the <samp class="codeph">else</samp> <samp class="codeph">if</samp> statement, and there was no &quot;key&quot; in the array, ColdFusion would loop forever or until a system error occurred; you would have to stop the server to end the loop.</p><p>The example also shows two issues with index arithmetic: in this form of loop you must make sure to initialize the index, and you must keep track of where the index is incremented. In this case, because the index is incremented at the top of the loop, you must initialize it to 0 so it becomes 1 in the first loop.</p>
      </div>
    <!--googleoff: index-->
  </div>
  <!-- END CONTENT WRAPPER -->
</div>
<!-- END PAGE CONTENT WRAPPER -->
<br clear="both" />
<div id="related">
  <div class="t">
    <div class="b">
      <div class="l">
        <div class="r">
          <div class="bl">
            <div class="br">
              <div class="tl">
                <div class="tr">
                  <div id="related_in">
                    <h3>
                      Related Information
                    </h3>
                    <h4>
                      Help Resource Center
                    </h4>
                    <ul class="link-list">
                      <li class="icon external"><a href="http://livedocs.adobe.com/coldfusion/8/CFScript_06.html" target="_blank">This page on the Web</a></li>
                    </ul>
                  </div>
                  <br clear="both" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<br clear="both" />
</body>
</html>
